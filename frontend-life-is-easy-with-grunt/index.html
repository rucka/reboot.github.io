
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>frontend life is easy with Grunt - reboot</title>

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="frontend life is easy with Grunt">
    <meta name="twitter:description" content="">

    <meta property="og:type" content="article">
    <meta property="og:title" content="frontend life is easy with Grunt">
    <meta property="og:description" content="">

    <link href="../favicon.ico" rel="shortcut icon" type="image/x-icon">
    <link href="http://localhost:3001/apple-touch-icon-precomposed.png" rel="apple-touch-icon">

    <link rel="stylesheet" type="text/css" href="../assets/css/uno.css?v=b5ee7c5d54">

    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
    <link rel="canonical" href="http://localhost:2368/frontend-life-is-easy-with-grunt/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="http://localhost:2368/frontend-life-is-easy-with-grunt/amp/">
    
    <meta property="og:site_name" content="reboot">
    <meta property="og:type" content="article">
    <meta property="og:title" content="frontend life is easy with Grunt">
    <meta property="og:description" content="This post is part of the series &amp;quot;the road to Visual Studio free frontend development&amp;quot;: Frontend life with Visual Studio Frontend life without Visual Studio Frontend life is easy with Grunt You can browse the code of this post on github. If you think that the term build">
    <meta property="og:url" content="http://localhost:2368/frontend-life-is-easy-with-grunt/">
    <meta property="article:published_time" content="2014-08-07T10:00:00.000Z">
    <meta property="article:modified_time" content="2015-02-25T18:21:08.000Z">
    <meta property="article:tag" content="grunt">
    <meta property="article:tag" content="vsfree">
    <meta property="article:tag" content="frontend development">
    <meta property="article:tag" content="source map">
    <meta property="article:tag" content="uglify">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="frontend life is easy with Grunt">
    <meta name="twitter:description" content="This post is part of the series &amp;quot;the road to Visual Studio free frontend development&amp;quot;: Frontend life with Visual Studio Frontend life without Visual Studio Frontend life is easy with Grunt You can browse the code of this post on github. If you think that the term build">
    <meta name="twitter:url" content="http://localhost:2368/frontend-life-is-easy-with-grunt/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Gianluca Carucci">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="grunt, vsfree, frontend development, source map, uglify">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "reboot",
        "logo": {
            "@type": "ImageObject",
            "url": "http://localhost:2368/content/images/2017/10/logo.png",
            "width": 122,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Gianluca Carucci",
        "image": {
            "@type": "ImageObject",
            "url": "http://gianluca.carucci.org/images/reboot/avatar.jpg",
            "width": 333,
            "height": 250
        },
        "url": "http://localhost:2368/author/gianluca-carucci/",
        "sameAs": [
            "http://gianluca.carucci.org"
        ]
    },
    "headline": "frontend life is easy with Grunt",
    "url": "http://localhost:2368/frontend-life-is-easy-with-grunt/",
    "datePublished": "2014-08-07T10:00:00.000Z",
    "dateModified": "2015-02-25T18:21:08.000Z",
    "keywords": "grunt, vsfree, frontend development, source map, uglify",
    "description": "This post is part of the series &amp;quot;the road to Visual Studio free frontend development&amp;quot;: Frontend life with Visual Studio Frontend life without Visual Studio Frontend life is easy with Grunt You can browse the code of this post on github. If you think that the term build",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:2368/"
    }
}
    </script>

    <script type="text/javascript" src="../public/ghost-sdk.min.js?v=b5ee7c5d54"></script>
<script type="text/javascript">
ghost.init({
	clientId: "ghost-frontend",
	clientSecret: "79f3dc471bf6"
});
</script>
    <meta name="generator" content="Ghost 1.13">
    <link rel="alternate" type="application/rss+xml" title="reboot" href="http://localhost:2368/rss/">
    <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                  ga('create', 'UA-39008722-5', 'auto');
                    ga('send', 'pageview');

                </script>
</head>
<body class="post-template tag-grunt tag-vsfree tag-frontend-development tag-source-map tag-uglify no-js">

    <span class="mobile btn-mobile-menu">
        <i class="icon icon-list btn-mobile-menu__icon"></i>
        <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
    </span>

    <header class="panel-cover panel-cover--collapsed " style="background-image: url(../content/images/2017/10/background.jpg)">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="http://reboot.carucci.org" title="link to homepage for reboot"><img src="../content/images/2017/10/logo.png" width="80" alt="reboot logo" class="panel-cover__logo logo"></a>
        <h1 class="panel-cover__title panel-title"><a href="http://localhost:2368" title="link to homepage for reboot">reboot</a></h1>
        <hr class="panel-cover__divider">
        <p class="panel-cover__description">a (tech) life behind a keyboard</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary">

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="../index.html#blog" title="link to reboot blog" class="blog-button">Blog</a></li>
            </ul>
          </nav>

          
<nav class="cover-navigation navigation--social">
  <ul class="navigation">


  <!-- Twitter -->
  <li class="navigation__item">
    <a target="blank" href="http://gianluca.carucci.org" title="rucka at home">
      <i class="icon icon-web"></i>
      <span class="label">Website</span>
    </a>
  </li>

<li class="navigation__item">
    <a target="blank" href="http://goo.gl/WCMqi5" title="@rucka on Twitter">
      <i class="icon icon-social-twitter"></i>
      <span class="label">Twitter</span>
    </a>
  </li>

  <!-- Linkedin -->
  <li class="navigation__item">
    <a target="blank" href="http://goo.gl/pSWsZ8" title="Rucka on LinkedIn">
      <i class="icon icon-social-linkedin"></i>
      <span class="label">Linkedin</span>
    </a>
  </li>

  <!-- Github -->
  <li class="navigation__item">
    <a target="blank" href="http://goo.gl/SzphrW" title="Rucka on Github">
      <i class="icon icon-social-github"></i>
      <span class="label">Github</span>
    </a>
  </li>

    <!-- Email -->
    <li class="navigation__item">
      <a target="blank" href="mailto:hello.gianluca@carucci.org" title="Email me">
        <i class="icon icon-mail"></i>
        <span class="label">Email</span>
      </a>
    </li>

    <!-- RSS -->
    <li class="navigation__item">
      <a href="../rss/index.rss" title="Subscribe">
        <i class="icon icon-rss"></i>
        <span class="label">RSS</span>
      </a>
    </li>

  </ul>
</nav>

        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            

  <article class="post-container post-container--single">
    <header class="post-header">
      <div class="post-meta">
        <time datetime="07 Aug 2014" class="post-meta__date date">07 Aug 2014</time> • <span class="post-meta__tags tags"><span class="icon icon-pricetag-multiple">&amp;nbsp</span><a href="../tag/grunt/index.html#blog" title="grunt">grunt</a> <a href="../tag/vsfree/index.html#blog" title="vsfree">vsfree</a> <a href="../tag/frontend-development/index.html#blog" title="frontend development">frontend development</a> <a href="../tag/source-map/index.html#blog" title="source map">source map</a> <a href="../tag/uglify/index.html#blog" title="uglify">uglify</a> - <span class="eta"></span> read.</span>
        <!--<span class="post-meta__author author"><img src="http://gianluca.carucci.org/images/reboot/avatar.jpg" alt="profile image for Gianluca Carucci" class="avatar post-meta__avatar" /> by Gianluca Carucci</span>-->
      </div>
      <h1 class="post-title">frontend life is easy with Grunt</h1>
    </header>

    <section class="post tag-grunt tag-vsfree tag-frontend-development tag-source-map tag-uglify">
      <div class="kg-card-markdown"><p><em>This post is part of the series "the road to Visual Studio free frontend development":</em></p>
<ul>
<li><em><a href="http://localhost:3001/frontend-life-with-visual-studio">Frontend life with Visual Studio</a></em></li>
<li><em><a href="http://localhost:3001/frontend-life-without-visual-studio">Frontend life without Visual Studio</a></em></li>
<li>Frontend life is easy with Grunt</li>
</ul>
<p><em>You can browse the code of this post on <a href="https://github.com/rucka/gianluca.carucci.org/blob/v2.1">github</a>.</em></p>
<hr>
<p>If you think that the term <em>build</em> is used only in backend development you are in trouble.<br>
Nowadays a lot of frontend projects require to manage tasks such as expansion of SASS and LESS, minification of CSS/JS, running JSHint or JSLint, compressing the images, running unit tests and so on: a <em>client build system</em> aka <strong>task manager</strong> is mandatory.</p>
<h4 id="beforeyoustart">before you start</h4>
<p>A lot of tools used to automate the management of the frontend projects are written in <strong>Node.js</strong>: it's sounds strange, but node.js is not only a technology used for writing a server side api, but it's widely spread in development of automation tasks. If you haven't yet node.js installed in your machine, <a href="http://nodejs.org">do it</a>.<br>
Now it's time to <a href="http://gianluca.carucci.org">migrate my website</a> to <a href="http://gruntjs.com/"><strong>Grunt</strong></a>. My first goal is to make grunt able working like the powershell <a href="https://github.com/rucka/gianluca.carucci.org/blob/v1.0/publish.ps1">script</a> I showed in the first post of this series; moreover, I want to remove the useless files and change as little code as possible.<br>
On <em>github</em> you can see the status of the project <a href="https://github.com/rucka/gianluca.carucci.org/tree/v1.0">before</a> and <a href="https://github.com/rucka/gianluca.carucci.org/tree/v2.0">after</a> its migration to grunt.</p>
<h4 id="letsstart">let's start</h4>
<p>Node.js uses <strong>Npm</strong> to manage dependencies of the project, so let's start creating a folder, opening a command prompt and typing:</p>
<pre><code>npm init 
</code></pre>
<p>The command creates a <em>package.json</em> file in which there are information about your project (name, author, repository url...). In particular we're interested in <strong>the dependencies section</strong>. The command <code>npm install</code> downloads the local dependencies and put them in the <code>node_module</code> folder located in the root of the project.<br>
We go on installing grunt:</p>
<pre><code>npm install grunt --save-dev
npm install -g grunt-cli
</code></pre>
<p>grunt is shipped in two parts: the command line (<em>grunt-cli</em>) and the task runner (<em>grunt</em>). The command line is installed globally to the machine (note the option <em>-g</em>) so you can execute the <code>grunt</code> command wherever you are.<br>
If you take a look at the package.json file</p>
<pre><code>{
  "name": "gianluca.carucci.org",
  "version": "2.0.0",
  "description": "my personal website",
  "repository": {
    "type": "git",
    "url": "https://github.com/rucka/gianluca.carucci.org.git"
  },
  "author": "Gianluca Carucci",
  "devDependencies": {
    "grunt": "~0.4.2"
  }
}
</code></pre>
<p>Note that <em>grunt</em> is placed inside the <code>devdependecies</code> section.</p>
<h4 id="projectstructure">project structure</h4>
<p>Now the project folder contains only the <code>package.json</code> file; I created a <code>client</code> folder under the root, where I copied all the assets (javascript, css and html files). The project structure is almost complete: it's missing only the <code>Gruntfile.js</code>.</p>
<h4 id="tasksconfiguration">tasks configuration</h4>
<p>The simplest Grunt file is similar to the following:</p>
<pre><code>module.exports = function(grunt) {
  grunt.initConfig({
    //import project metadata
    pkg: grunt.file.readJSON('package.json') 
  });
};
</code></pre>
<p>The function <code>grunt.initConfig</code> receives a structure as parameter in which you can define and configure the tasks.<br>
In this project I'll use three grunt task plugins that I can download and install like this:</p>
<pre><code>npm install grunt-contrib-clean --save-dev
npm install grunt-contrib-copy --save-dev
npm install grunt-contrib-uglify --save-dev
</code></pre>
<p>Before using the plugins you have to load them using <code>grunt.loadNpmTasks</code> function in the following way:</p>
<pre><code>grunt.loadNpmTasks('grunt-contrib-clean');
grunt.loadNpmTasks('grunt-contrib-uglify');
grunt.loadNpmTasks('grunt-contrib-copy');
</code></pre>
<p>Finally it's the time to <strong>make the task builder useful</strong>: grunt will put a copy of website in the publishing folder transforming the assets to the minified pairs.</p>
<h4 id="cleanpublishingfolder">clean publishing folder</h4>
<p>The first task to configure is to <strong>clean the publishing</strong> folder in which I'll put the assets. In the grunt file I declare a <em>clean</em> task section as follows:</p>
<pre><code>grunt.initConfig({
  //previous declarations...
  clean: {
    publish: 'publish'
  },
  //next declarations...
));
</code></pre>
<p><strong>Configuring a task is a pretty</strong> simple job so starting from now I'll explain only the valuable code; for a detailed guide you can take a look at <a href="http://gruntjs.com/configuring-tasks">grunt documentation</a>.</p>
<h4 id="publishingassets">publishing assets</h4>
<p>The next task will copy the assets to the publishing folder:</p>
<pre><code>grunt.initConfig({
  //previous declarations...
   copy: {
     target: {
       cwd: 'client',
       expand: true,
       src:['**','!css/**', '!scripts/**','!vendor/**'],
       dest: 'publish/'
     },
     cssdev: {
       cwd: 'client',
       expand: true,
       src:['css/**'],
       dest: 'publish/'
     }
    },
  //next declarations...
));
</code></pre>
<h4 id="minifytheassetfiles">minify the asset files</h4>
<p>You can note that the <code>copy</code> task excludes the javascript files: the reason is that the files will be minified by the <em>uglify</em> task:</p>
<pre><code>grunt.initConfig({
  //previous declarations...
    uglify: {
      options : {
        sourceMap: true,
        sourceMapIncludeSources:true,
      },
      javascript : {
        files : [{
          cwd: 'client/',
          src: ['**/*.js'],
          dest: 'publish/',
          expand: true,
        }]
      }
    }
  //next declarations...
));
</code></pre>
<p><a href="https://github.com/gruntjs/grunt-contrib-uglify">Uglify</a> does <strong>the magic</strong>, but it's not limited to the minification magic, it does more: if configured, it can create the <strong>source map</strong> of the source code; with a source map I can use the same file (the minified version) for both the development and the production website navigation so the browser will always download a small size file instead of the real, potentially large file.</p>
<p><em>Ok, but what does that have to do with the source map?</em></p>
<p>If you use a browser compatible source map (at the moment the latest versions of the main browsers do it), when you inspect the code using the debugger, the source map is downloaded so <strong>the debugger can translate the minified file into the original file</strong>.</p>
<p>I found the source map awesome because:</p>
<ul>
<li>You are debugging <strong>the same</strong> javascript you will deploy in production</li>
<li>The source map file is downloaded <strong>on demand</strong></li>
<li>If you use the source map with <strong>all languages</strong> able to compile to JavaScript (like CoffeeScript, TypeScript, <a href="http://swannodette.github.io/2013/09/15/source-maps/">ClojureScript</a>...) the debugger shows you the source code in your original language</li>
</ul>
<p>If you want to know more about the source map you can start from <a href="http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/">here</a>.</p>
<h4 id="runtasks">run tasks</h4>
<p>Now it's time to run the tasks. From the command line I can run the tasks individually, typing <code>grunt clean</code>, <code>grunt copy</code> or <code>grunt uglify</code> . The interesting thing is that I can register a default task which run the sequence of tasks I prefer when I type the command <code>grunt</code> without any parameter. In my case I configured the default task like this:</p>
<pre><code>grunt.registerTask('default', ['clean','copy', 'uglify']);
</code></pre>
<h4 id="testyoursite">test your site</h4>
<p>At the end I have a little issue to solve: how can I test my website when I write my code with a simple editor (for example, vim)?<br>
Don't be afraid, Npm - again - make you safe.<br>
Run it once time for all:</p>
<pre><code>npm install -g http-server 
</code></pre>
<p>Run it once time again for every development session:</p>
<pre><code>http-server [your path project root]/publish  
</code></pre>
<p>Now open your browser and your website is available from <a href="http://localhost:8080/index.html">http://localhost:8080/index.html</a> (or whathever page you want).</p>
<h4 id="developmentworkflow">development workflow</h4>
<p>Summarizing: when your Grunt file is completed, your development workflow is composed of these steps:</p>
<ol>
<li><strong>modify the code</strong> inside your editor and save your changes</li>
<li><strong>run the command</strong> <code>grunt</code> from the terminal</li>
<li><strong>refresh</strong> your browser page</li>
</ol>
<p>Is it good for you?</p>
<h4 id="notoomanysteps">no, too many steps!</h4>
<p>You are right; Grunt could do better: I'll show you how to reduce the development workflow to only the first step, so that when you save your file, <a href="http://localhost:3001/frontend-life-is-easy-with-grunt/enhance-your-frontend-life-with-grunt-watch-and-livereload">Grunt watches it and reloads</a> your browser page automatically without any effort!</p>
<h4 id="okbutiwantmore">ok, but I want more!</h4>
<p>I showed you only the basic features of Grunt. What I love about this tool is the huge number of awesome plugins that exist for it, so take your time and try grunt out to:</p>
<ul>
<li><a href="https://www.npmjs.com/package/grunt-karma">run your tests</a></li>
<li>minimize <a href="https://npmjs.org/package/grunt-contrib-cssmin">CSS</a></li>
<li>compile <a href="https://npmjs.org/package/grunt-contrib-sass">Sass</a> or <a href="https://npmjs.org/package/grunt-contrib-less">Less</a> files to CSS</li>
<li><a href="https://npmjs.org/package/grunt-contrib-jshint">validate</a> your JavaScript code</li>
<li><a href="https://npmjs.org/package/grunt-contrib-imagemin">minify</a> your images</li>
<li>manage different <a href="https://www.npmjs.com/package/grunt-env">environment</a> configurations</li>
<li>mock your real services during the development</li>
<li>add <a href="https://www.npmjs.com/package/grunt-autoprefixer">vendor prefix</a> automatically to your CSS files<br>
development</li>
</ul>
<p>That's all for now: next time I'll speak about how to <a href="http://localhost:3001/frontend-life-is-easy-with-grunt/manage-frontend-dependencies-with-npm-and-browserify">manage client dependencies</a>.</p>
</div>
    </section>

            <footer class="post-footer">


            <figure class="author-image">
                <a class="img" href="../author/gianluca-carucci/" style="background-image: url(http://gianluca.carucci.org/images/reboot/avatar.jpg)"><span class="hidden">Gianluca Carucci's Picture</span></a>
            </figure>

            <section class="author">
                <h4><a href="../author/gianluca-carucci/">Gianluca Carucci</a></h4>

                    <p>Software Engineer. Waterpolo player. Dad. Web  guy.</p>
                <div class="author-meta">
                    <span class="author-location icon icon-map">Milan</span>
                    <span class="author-link icon icon-link"><a href="http://gianluca.carucci.org">http://gianluca.carucci.org</a></span>
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon icon-social-twitter" href="https://twitter.com/share?text=frontend%20life%20is%20easy%20with%20Grunt&amp;url=http://reboot.carucci.org/frontend-life-is-easy-with-grunt/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon icon-social-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://reboot.carucci.org/frontend-life-is-easy-with-grunt/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon icon-social-google-plus" href="https://plus.google.com/share?url=http://reboot.carucci.org/frontend-life-is-easy-with-grunt/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>
  </footer></article>

  <section class="post-comments">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
      var disqus_shortname = 'reboot-carucci-org'; // required: replace example with your forum shortname
      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>



            <footer class="footer">
    <span class="footer__copyright" style="float:left">© 2017. <a href="http://gianluca.carucci.org">Gianluca Carucci</a>. All rights reserved.</span>
    <span class="footer__copyright" style="float:right">Proudly published with <a href="http://ghost.org" title="link to Ghost website">Ghost</a></span>
</footer>
        </div>
    </div>

    <!-- You can safely delete this line if your theme does not require jQuery -->
<script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

    <script type="text/javascript" src="../assets/js/main.js?v=b5ee7c5d54"></script>

</body>
